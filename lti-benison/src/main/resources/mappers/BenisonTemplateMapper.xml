<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.liketry.interaction.benison.dao.BenisonTemplateMapper" >
  <resultMap id="BaseResultMap" type="com.liketry.interaction.benison.model.BenisonTemplate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 18 10:32:25 CST 2017.
    -->
    <id column="template_id" property="templateId" jdbcType="VARCHAR" />
    <result column="template_code" property="templateCode" jdbcType="VARCHAR" />
    <result column="template_name" property="templateName" jdbcType="VARCHAR" />
    <result column="screen_id" property="screenId" jdbcType="VARCHAR" />
    <result column="type_id" property="typeId" jdbcType="VARCHAR" />
    <result column="benison_id" property="benisonId" jdbcType="VARCHAR" />
    <result column="bg_img_id" property="bgImgId" jdbcType="VARCHAR" />
    <result column="sm_img_id" property="smImgId" jdbcType="VARCHAR" />
    <result column="title_x" property="titleX" jdbcType="VARCHAR" />
    <result column="title_y" property="titleY" jdbcType="VARCHAR" />
    <result column="title_colour" property="titleColour" jdbcType="VARCHAR" />
    <result column="title_size" property="titleSize" jdbcType="VARCHAR" />
    <result column="title_type" property="titleType" jdbcType="VARCHAR" />
    <result column="body_x" property="bodyX" jdbcType="VARCHAR" />
    <result column="body_y" property="bodyY" jdbcType="VARCHAR" />
    <result column="body_colour" property="bodyColour" jdbcType="VARCHAR" />
    <result column="body_size" property="bodySize" jdbcType="VARCHAR" />
    <result column="body_type" property="bodyType" jdbcType="VARCHAR" />
    <result column="tail_x" property="tailX" jdbcType="VARCHAR" />
    <result column="tail_y" property="tailY" jdbcType="VARCHAR" />
    <result column="tail_colour" property="tailColour" jdbcType="VARCHAR" />
    <result column="tail_size" property="tailSize" jdbcType="VARCHAR" />
    <result column="tail_type" property="tailType" jdbcType="VARCHAR" />
    <result column="rule_content" property="ruleContent" jdbcType="VARCHAR" />
    <result column="img_url" property="imgUrl" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 18 10:32:25 CST 2017.
    -->
    template_id, template_code, template_name, screen_id, type_id, benison_id, bg_img_id, 
    sm_img_id, title_x, title_y, title_colour, title_size, title_type, body_x, body_y, 
    body_colour, body_size, body_type, tail_x, tail_y, tail_colour, tail_size, tail_type
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 18 10:32:25 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from bu_benison_template
    where template_id = #{templateId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 18 10:32:25 CST 2017.
    -->
    delete from bu_benison_template
    where template_id = #{templateId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.liketry.interaction.benison.model.BenisonTemplate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 18 10:32:25 CST 2017.
    -->
    insert into bu_benison_template (template_id, template_code, template_name, 
      screen_id, type_id, benison_id, 
      bg_img_id, sm_img_id, title_x, 
      title_y, title_colour, title_size, 
      title_type, body_x, body_y, 
      body_colour, body_size, body_type, 
      tail_x, tail_y, tail_colour, 
      tail_size, tail_type)
    values (#{templateId,jdbcType=VARCHAR}, #{templateCode,jdbcType=VARCHAR}, #{templateName,jdbcType=VARCHAR}, 
      #{screenId,jdbcType=VARCHAR}, #{typeId,jdbcType=VARCHAR}, #{benisonId,jdbcType=VARCHAR}, 
      #{bgImgId,jdbcType=VARCHAR}, #{smImgId,jdbcType=VARCHAR}, #{titleX,jdbcType=VARCHAR}, 
      #{titleY,jdbcType=VARCHAR}, #{titleColour,jdbcType=VARCHAR}, #{titleSize,jdbcType=VARCHAR}, 
      #{titleType,jdbcType=VARCHAR}, #{bodyX,jdbcType=VARCHAR}, #{bodyY,jdbcType=VARCHAR}, 
      #{bodyColour,jdbcType=VARCHAR}, #{bodySize,jdbcType=VARCHAR}, #{bodyType,jdbcType=VARCHAR}, 
      #{tailX,jdbcType=VARCHAR}, #{tailY,jdbcType=VARCHAR}, #{tailColour,jdbcType=VARCHAR}, 
      #{tailSize,jdbcType=VARCHAR}, #{tailType,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.liketry.interaction.benison.model.BenisonTemplate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 18 10:32:25 CST 2017.
    -->
    insert into bu_benison_template
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="templateId != null" >
        template_id,
      </if>
      <if test="templateCode != null" >
        template_code,
      </if>
      <if test="templateName != null" >
        template_name,
      </if>
      <if test="screenId != null" >
        screen_id,
      </if>
      <if test="typeId != null" >
        type_id,
      </if>
      <if test="benisonId != null" >
        benison_id,
      </if>
      <if test="bgImgId != null" >
        bg_img_id,
      </if>
      <if test="smImgId != null" >
        sm_img_id,
      </if>
      <if test="titleX != null" >
        title_x,
      </if>
      <if test="titleY != null" >
        title_y,
      </if>
      <if test="titleColour != null" >
        title_colour,
      </if>
      <if test="titleSize != null" >
        title_size,
      </if>
      <if test="titleType != null" >
        title_type,
      </if>
      <if test="bodyX != null" >
        body_x,
      </if>
      <if test="bodyY != null" >
        body_y,
      </if>
      <if test="bodyColour != null" >
        body_colour,
      </if>
      <if test="bodySize != null" >
        body_size,
      </if>
      <if test="bodyType != null" >
        body_type,
      </if>
      <if test="tailX != null" >
        tail_x,
      </if>
      <if test="tailY != null" >
        tail_y,
      </if>
      <if test="tailColour != null" >
        tail_colour,
      </if>
      <if test="tailSize != null" >
        tail_size,
      </if>
      <if test="tailType != null" >
        tail_type,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="templateId != null" >
        #{templateId,jdbcType=VARCHAR},
      </if>
      <if test="templateCode != null" >
        #{templateCode,jdbcType=VARCHAR},
      </if>
      <if test="templateName != null" >
        #{templateName,jdbcType=VARCHAR},
      </if>
      <if test="screenId != null" >
        #{screenId,jdbcType=VARCHAR},
      </if>
      <if test="typeId != null" >
        #{typeId,jdbcType=VARCHAR},
      </if>
      <if test="benisonId != null" >
        #{benisonId,jdbcType=VARCHAR},
      </if>
      <if test="bgImgId != null" >
        #{bgImgId,jdbcType=VARCHAR},
      </if>
      <if test="smImgId != null" >
        #{smImgId,jdbcType=VARCHAR},
      </if>
      <if test="titleX != null" >
        #{titleX,jdbcType=VARCHAR},
      </if>
      <if test="titleY != null" >
        #{titleY,jdbcType=VARCHAR},
      </if>
      <if test="titleColour != null" >
        #{titleColour,jdbcType=VARCHAR},
      </if>
      <if test="titleSize != null" >
        #{titleSize,jdbcType=VARCHAR},
      </if>
      <if test="titleType != null" >
        #{titleType,jdbcType=VARCHAR},
      </if>
      <if test="bodyX != null" >
        #{bodyX,jdbcType=VARCHAR},
      </if>
      <if test="bodyY != null" >
        #{bodyY,jdbcType=VARCHAR},
      </if>
      <if test="bodyColour != null" >
        #{bodyColour,jdbcType=VARCHAR},
      </if>
      <if test="bodySize != null" >
        #{bodySize,jdbcType=VARCHAR},
      </if>
      <if test="bodyType != null" >
        #{bodyType,jdbcType=VARCHAR},
      </if>
      <if test="tailX != null" >
        #{tailX,jdbcType=VARCHAR},
      </if>
      <if test="tailY != null" >
        #{tailY,jdbcType=VARCHAR},
      </if>
      <if test="tailColour != null" >
        #{tailColour,jdbcType=VARCHAR},
      </if>
      <if test="tailSize != null" >
        #{tailSize,jdbcType=VARCHAR},
      </if>
      <if test="tailType != null" >
        #{tailType,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.liketry.interaction.benison.model.BenisonTemplate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 18 10:32:25 CST 2017.
    -->
    update bu_benison_template
    <set >
      <if test="templateCode != null" >
        template_code = #{templateCode,jdbcType=VARCHAR},
      </if>
      <if test="templateName != null" >
        template_name = #{templateName,jdbcType=VARCHAR},
      </if>
      <if test="screenId != null" >
        screen_id = #{screenId,jdbcType=VARCHAR},
      </if>
      <if test="typeId != null" >
        type_id = #{typeId,jdbcType=VARCHAR},
      </if>
      <if test="benisonId != null" >
        benison_id = #{benisonId,jdbcType=VARCHAR},
      </if>
      <if test="bgImgId != null" >
        bg_img_id = #{bgImgId,jdbcType=VARCHAR},
      </if>
      <if test="smImgId != null" >
        sm_img_id = #{smImgId,jdbcType=VARCHAR},
      </if>
      <if test="titleX != null" >
        title_x = #{titleX,jdbcType=VARCHAR},
      </if>
      <if test="titleY != null" >
        title_y = #{titleY,jdbcType=VARCHAR},
      </if>
      <if test="titleColour != null" >
        title_colour = #{titleColour,jdbcType=VARCHAR},
      </if>
      <if test="titleSize != null" >
        title_size = #{titleSize,jdbcType=VARCHAR},
      </if>
      <if test="titleType != null" >
        title_type = #{titleType,jdbcType=VARCHAR},
      </if>
      <if test="bodyX != null" >
        body_x = #{bodyX,jdbcType=VARCHAR},
      </if>
      <if test="bodyY != null" >
        body_y = #{bodyY,jdbcType=VARCHAR},
      </if>
      <if test="bodyColour != null" >
        body_colour = #{bodyColour,jdbcType=VARCHAR},
      </if>
      <if test="bodySize != null" >
        body_size = #{bodySize,jdbcType=VARCHAR},
      </if>
      <if test="bodyType != null" >
        body_type = #{bodyType,jdbcType=VARCHAR},
      </if>
      <if test="tailX != null" >
        tail_x = #{tailX,jdbcType=VARCHAR},
      </if>
      <if test="tailY != null" >
        tail_y = #{tailY,jdbcType=VARCHAR},
      </if>
      <if test="tailColour != null" >
        tail_colour = #{tailColour,jdbcType=VARCHAR},
      </if>
      <if test="tailSize != null" >
        tail_size = #{tailSize,jdbcType=VARCHAR},
      </if>
      <if test="tailType != null" >
        tail_type = #{tailType,jdbcType=VARCHAR},
      </if>
    </set>
    where template_id = #{templateId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.liketry.interaction.benison.model.BenisonTemplate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 18 10:32:25 CST 2017.
    -->
    update bu_benison_template
    set template_code = #{templateCode,jdbcType=VARCHAR},
      template_name = #{templateName,jdbcType=VARCHAR},
      screen_id = #{screenId,jdbcType=VARCHAR},
      type_id = #{typeId,jdbcType=VARCHAR},
      benison_id = #{benisonId,jdbcType=VARCHAR},
      bg_img_id = #{bgImgId,jdbcType=VARCHAR},
      sm_img_id = #{smImgId,jdbcType=VARCHAR},
      title_x = #{titleX,jdbcType=VARCHAR},
      title_y = #{titleY,jdbcType=VARCHAR},
      title_colour = #{titleColour,jdbcType=VARCHAR},
      title_size = #{titleSize,jdbcType=VARCHAR},
      title_type = #{titleType,jdbcType=VARCHAR},
      body_x = #{bodyX,jdbcType=VARCHAR},
      body_y = #{bodyY,jdbcType=VARCHAR},
      body_colour = #{bodyColour,jdbcType=VARCHAR},
      body_size = #{bodySize,jdbcType=VARCHAR},
      body_type = #{bodyType,jdbcType=VARCHAR},
      tail_x = #{tailX,jdbcType=VARCHAR},
      tail_y = #{tailY,jdbcType=VARCHAR},
      tail_colour = #{tailColour,jdbcType=VARCHAR},
      tail_size = #{tailSize,jdbcType=VARCHAR},
      tail_type = #{tailType,jdbcType=VARCHAR}
    where template_id = #{templateId,jdbcType=VARCHAR}
  </update>
  
  <select id="selectBenisonTemplate" resultMap="BaseResultMap" parameterType="java.lang.String" >
    SELECT
    <include refid="Base_Column_List" />
    FROM bu_benison_template WHERE screen_id=#{screenId}
    AND bg_img_id = #{imgId}
    <if test="typeId != null and typeId != ''">
      AND type_id=#{typeId}
    </if>
    <if test="benisonId != null and benisonId != ''">
      AND benison_id=#{benisonId}
    </if>
  </select>
  
  <select id="findBenisonTemplateById" resultMap="BaseResultMap" parameterType="java.lang.String" >
   SELECT 
   	bt.template_id, bt.template_code, bt.template_name, bt.title_x, bt.title_y, 
   	bt.title_colour, bt.title_size, bt.title_type, bt.body_x, bt.body_y, 
    bt.body_colour, bt.body_size, bt.body_type, bt.tail_x, bt.tail_y, 
    bt.tail_colour, bt.tail_size, bt.tail_type,b.rule_content,
    bi.img_url FROM BU_BENISON_TEMPLATE bt 
		left join bu_benison b on bt.benison_id = b.benison_id
		left join bu_benison_img bi on bt.bg_img_id = bi.img_id 
		where bt.template_id = #{templateId}
  </select>
</mapper>